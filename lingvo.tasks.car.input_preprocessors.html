

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>lingvo.tasks.car.input_preprocessors module &mdash; Lingvo  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lingvo.tasks.car.kitti_ap_metric module" href="lingvo.tasks.car.kitti_ap_metric.html" />
    <link rel="prev" title="lingvo.tasks.car.input_extractor module" href="lingvo.tasks.car.input_extractor.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Lingvo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="lingvo.html">lingvo package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lingvo.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lingvo.core.html">lingvo.core package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="lingvo.tasks.html">lingvo.tasks package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="lingvo.tasks.html#subpackages">Subpackages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lingvo.tools.html">lingvo.tools package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lingvo.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Lingvo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="lingvo.html">lingvo package</a> &raquo;</li>
        
          <li><a href="lingvo.tasks.html">lingvo.tasks package</a> &raquo;</li>
        
          <li><a href="lingvo.tasks.car.html">lingvo.tasks.car package</a> &raquo;</li>
        
      <li>lingvo.tasks.car.input_preprocessors module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lingvo.tasks.car.input_preprocessors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-lingvo.tasks.car.input_preprocessors">
<span id="lingvo-tasks-car-input-preprocessors-module"></span><h1>lingvo.tasks.car.input_preprocessors module<a class="headerlink" href="#module-lingvo.tasks.car.input_preprocessors" title="Permalink to this headline">¶</a></h1>
<p>Input preprocessors.</p>
<dl class="py function">
<dt id="lingvo.tasks.car.input_preprocessors._ConsistentShuffle">
<code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">_ConsistentShuffle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensors</span></em>, <em class="sig-param"><span class="n">seed</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_ConsistentShuffle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._ConsistentShuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuffle multiple tensors with the same shuffle order.</p>
</dd></dl>

<dl class="py function">
<dt id="lingvo.tasks.car.input_preprocessors._GetApplyPointMaskFn">
<code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">_GetApplyPointMaskFn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points_mask</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_GetApplyPointMaskFn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._GetApplyPointMaskFn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a function that applies a mask to one of our points tensors.</p>
</dd></dl>

<dl class="py function">
<dt id="lingvo.tasks.car.input_preprocessors._Dense">
<code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">_Dense</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sparse</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_Dense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._Dense" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.Preprocessor">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">Preprocessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#Preprocessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="lingvo.core.base_layer.html#lingvo.core.base_layer.BaseLayer" title="lingvo.core.base_layer.BaseLayer"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.base_layer.BaseLayer</span></code></a></p>
<p>Base class for input preprocessor.</p>
<p>Input preprocessors expect the combined output of all extractors and performs
a transformation on them. Input preprocessors can add/edit/remove fields
from the NestedMap of features.</p>
<p>Note: Features correspond to that for one example (no batch dimension).</p>
<p>Sub-classes need to implement the following three functions:</p>
<ol class="arabic simple">
<li><p>TransformFeatures(features): Given a NestedMap of features representing the
output of all the extractors, apply a transformation on the features.</p></li>
<li><p>TransformShapes(shapes): Given a corresponding NestedMap of shapes,
produce a NestedMap of shapes that corresponds to the transformation of the
features after TransformFeatures.</p></li>
<li><p>TransformDTypes(dtypes): Given a corresponding NestedMap of dtypes,
produce a NestedMap of dtypes that corresponds to the transformation of the
features after TransformFeatures.</p></li>
</ol>
<p>The preprocessor is expected to explicitly pass through untouched fields.
For example, a preprocessor that does data augmentation should modify the
features NestedMap on the fields it cares about augmenting, and then return
the features NestedMap.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.Preprocessor.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#Preprocessor.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.Preprocessor.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.Preprocessor.FProp">
<code class="sig-name descname">FProp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#Preprocessor.FProp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.Preprocessor.FProp" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs TransformFeatures.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.Preprocessor.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#Preprocessor.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.Preprocessor.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.Preprocessor.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#Preprocessor.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.Preprocessor.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.Preprocessor.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#Preprocessor.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.Preprocessor.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">EntryPreprocessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>A Preprocessor that transforms a NestedMap sub-structure.</p>
<p>Some preprocessors want to apply a function to any NestedMap whose key matches
a specific prefix. An EntryPreprocessor provides an interface for specifying
the function transformation for a NestedMap of inputs, adding, modifying, or
deleting the entries in that NestedMap.</p>
<dl class="simple">
<dt>For example, if an input contains a nested structure such as:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>lasers.front.xyz</dt><dd><p>.features</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>lasers.side.xyz</dt><dd><p>.features</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>and one wants to apply a transform that modifies the .xyz features
on both structures, one can define an EntryPreprocessor that implements:</p>
<blockquote>
<div><p>UpdateEntry(entry):
UpdateEntryShape(shapes):
UpdateEntryDType(dtypes):</p>
</div></blockquote>
<p>and set self.params.prefixes = [‘lasers.front’, ‘lasers.side’]
where the prefixes refer to a fully-qualified NestedMap sub-structure.</p>
<dl class="simple">
<dt>The arguments to these functions will contain just the NestedMap structure</dt><dd><p>whose key prefix can be found in self.params.prefixes.  One can then modify
these structures as desired.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<dl class="simple">
<dt>def UpdateEntry(self, entry):</dt><dd><p># entry is a NestedMap.
assert ‘xyz’ in entry
entry.xyz = self._ApplyFn(entry.xyz)</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor._ApplyToMatchingStructure">
<code class="sig-name descname">_ApplyToMatchingStructure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nested_map</span></em>, <em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor._ApplyToMatchingStructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor._ApplyToMatchingStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply fn to any NestedMap sub-structure whose prefix is in p.prefixes.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor.UpdateEntry">
<code class="sig-name descname">UpdateEntry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">entry</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor.UpdateEntry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor.UpdateEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Tensors in a NestedMap entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – A NestedMap of Tensors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor.UpdateEntryShape">
<code class="sig-name descname">UpdateEntryShape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor.UpdateEntryShape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor.UpdateEntryShape" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the shapes in a NestedMap entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A NestedMap of TensorShapes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor.UpdateEntryDType">
<code class="sig-name descname">UpdateEntryDType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor.UpdateEntryDType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor.UpdateEntryDType" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the dtypes in a NestedMap entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A NestedMap of dtypes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.EntryPreprocessor.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#EntryPreprocessor.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.EntryPreprocessor.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.CreateDecoderCopy">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">CreateDecoderCopy</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CreateDecoderCopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CreateDecoderCopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Creates references to current lasers, images, and labels.</p>
<p>This is useful if the data is further transformed.</p>
<p>If desired, the keys that are copied can be customized by overriding the
default keys param.</p>
<p>This preprocessor expects features to optionally contain the following keys:
- lasers - a NestedMap of tensors
- images - a NestedMap of tensors
- labels - a NestedMap of tensors</p>
<dl class="simple">
<dt>Adds the following features (if the features existed):</dt><dd><ul class="simple">
<li><p>decoder_copy.lasers - a copy of the lasers NestedMap</p></li>
<li><p>decoder_copy.images - a copy of the images NestedMap</p></li>
<li><p>decoder_copy.labels - a copy of the labels NestedMap</p></li>
</ul>
</dd>
</dl>
<p>The processor also by default pads the laser features; this can be disabled
by setting the pad_lasers param to None.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.CreateDecoderCopy.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CreateDecoderCopy.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CreateDecoderCopy.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.CreateDecoderCopy._DeepCopyIfExists">
<code class="sig-name descname">_DeepCopyIfExists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span></em>, <em class="sig-param"><span class="n">nested_map</span></em>, <em class="sig-param"><span class="n">parent_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CreateDecoderCopy._DeepCopyIfExists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CreateDecoderCopy._DeepCopyIfExists" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy a specific key to a parent key if it exists.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.CreateDecoderCopy.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CreateDecoderCopy.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CreateDecoderCopy.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.CreateDecoderCopy.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CreateDecoderCopy.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CreateDecoderCopy.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.CreateDecoderCopy.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CreateDecoderCopy.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CreateDecoderCopy.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.FilterByKey">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">FilterByKey</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterByKey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterByKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Filters features to keep only specified keys.</p>
<p>This keeps only feature entries that are specified. This allows us to reduce
the number of fields returned. For example, during training, one may not
need the actual laser points if training with a pillars based model that
has a preprocessor that already maps the points to grid.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterByKey.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterByKey.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterByKey.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterByKey._FilterFn">
<code class="sig-name descname">_FilterFn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">entry</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterByKey._FilterFn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterByKey._FilterFn" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter a nested map.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterByKey.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterByKey.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterByKey.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterByKey.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterByKey.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterByKey.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterByKey.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterByKey.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterByKey.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">FilterGroundTruthByNumPoints</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByNumPoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Removes ground truth boxes with less than params.min_num_points points.</p>
<dl class="simple">
<dt>This preprocessor expects features to contain the following keys::</dt><dd><p>labels.labels of shape […, L]
labels.bboxes_3d of shape […, L, 7]
labels.bboxes_3d_mask of shape […, L]
labels.unfiltered_bboxes_3d_mask of shape […, L]
labels.bboxes_3d_num_points of shape […, L].</p>
</dd>
</dl>
<p>Modifies the bounding box data to turn off ground truth objects that don’t
meet the params.min_num_points point filter:</p>
<blockquote>
<div><p>labels.labels: Boxes with less than params.min_num_points have their label
set to params.background_id (defaults to 0).</p>
<p>labels.bboxes_3d_mask: Boxes with less than params.min_num_points are set
to 0.</p>
</div></blockquote>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByNumPoints.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByNumPoints.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByNumPoints.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByNumPoints.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByNumPoints.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">FilterGroundTruthByDifficulty</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByDifficulty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Removes groundtruth boxes based on detection difficulty.</p>
<dl class="simple">
<dt>This preprocessor expects features to contain the following keys::</dt><dd><p>labels.single_frame_detection_difficulties of shape […, L]
labels.labels of shape […, L]
labels.bboxes_3d_mask of shape […, L]
labels.unfiltered_bboxes_3d_mask of shape […, L]</p>
</dd>
</dl>
<p>The preprocessor masks out the bboxes_3d_mask / labels based on whether
single_frame_detection_difficulties is greater than p.difficulty_threshold.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByDifficulty.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByDifficulty.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByDifficulty.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FilterGroundTruthByDifficulty.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FilterGroundTruthByDifficulty.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.CountNumberOfPointsInBoxes3D">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">CountNumberOfPointsInBoxes3D</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CountNumberOfPointsInBoxes3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CountNumberOfPointsInBoxes3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Computes bboxes_3d_num_points.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- labels.bboxes_3d of shape [L, 7]
- labels.bboxes_3d_mask of shape [L]</p>
<p>and optionally points_padding of shape [P] corresponding to the padding.
if points_padding is None, then all points are considered valid.</p>
<dl class="simple">
<dt>Adds the following features:</dt><dd><dl class="simple">
<dt>labels.bboxes_3d_num_points: [L] - integer tensor containing the number of</dt><dd><p>laser points for each corresponding bbox.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.CountNumberOfPointsInBoxes3D.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CountNumberOfPointsInBoxes3D.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CountNumberOfPointsInBoxes3D.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.CountNumberOfPointsInBoxes3D.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CountNumberOfPointsInBoxes3D.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CountNumberOfPointsInBoxes3D.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.CountNumberOfPointsInBoxes3D.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#CountNumberOfPointsInBoxes3D.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.CountNumberOfPointsInBoxes3D.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.AddPerPointLabels">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">AddPerPointLabels</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AddPerPointLabels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AddPerPointLabels" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Computes the class and bbox id of each point.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- labels.bboxes_3d of shape [L, 7]
- labels.labels of shape [L]</p>
<p>This makes an assumption that each point is only in 1 box, which should
almost always true in 3D. In cases where this is not true, the largest
label integer and largest bbox_id will be assigned.</p>
<p>NOTE: Be very careful that this is performed after any modifications
to the semantic labels of each point in the pointcloud. Examples of this
would be operators like GroundTruthAugmentation, or DropBoxesOutOfRange.</p>
<dl class="simple">
<dt>Adds the following features:</dt><dd><dl class="simple">
<dt>lasers.points_label: [P] - integer tensor containing the class id of each</dt><dd><p>point.</p>
</dd>
<dt>lasers.points_bbox_id: [P] - integer tensor containing box id of each</dt><dd><p>point from 0 to num_bboxes, where an id of num_bboxes indicates a
background point.</p>
</dd>
<dt>lasers.points_bbox_3d: [P, 7] - float tensor containing bounding box of</dt><dd><p>each point.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.AddPerPointLabels.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AddPerPointLabels.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AddPerPointLabels.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.AddPerPointLabels.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AddPerPointLabels.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AddPerPointLabels.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.AddPerPointLabels.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AddPerPointLabels.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AddPerPointLabels.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.AddPerPointLabels.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AddPerPointLabels.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AddPerPointLabels.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.PointsToGrid">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">PointsToGrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointsToGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointsToGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Bins points to a 3D-grid using custom op: ops.point_to_grid.</p>
<p>Expects features to have keys:
- lasers.points_xyz of shape [P, 3]</p>
<p>and optionally points_padding of shape [P] corresponding to the padding.
if points_padding is None, then all points are considered valid.</p>
<p>If normalizing the labels is enabled, then also expects:
- labels.weights
- labels.bboxes_td
- labels.bboxes_td_mask
- labels.bboxes_3d_mask</p>
<dl class="simple">
<dt>Let:</dt><dd><p>gx, gy, gz = p.grid_size
F = 3 + num_laser_features</p>
</dd>
<dt>Adds the following features:</dt><dd><dl class="simple">
<dt>grid_centers: [gx, gy, gz, 3]: For each grid cell, the (x,y,z)</dt><dd><p>floating point coordinate of its center.</p>
</dd>
<dt>grid_num_points: [gx, gy, gz]: The number of points in each grid</dt><dd><p>cell (integer).</p>
</dd>
<dt>laser_grid: [gx, gy, gz, num_points_per_cell, F] - A 5D floating</dt><dd><p>point Tensor containing the laser data placed into a fixed grid.</p>
</dd>
</dl>
</dd>
</dl>
<p>Modifies the bboxes in labels to also be within the grid range x/y by default.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PointsToGrid.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointsToGrid.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointsToGrid.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PointsToGrid._NormalizeLabels">
<code class="sig-name descname">_NormalizeLabels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ymin</span></em>, <em class="sig-param"><span class="n">xmin</span></em>, <em class="sig-param"><span class="n">ymax</span></em>, <em class="sig-param"><span class="n">xmax</span></em>, <em class="sig-param"><span class="n">x_range</span></em>, <em class="sig-param"><span class="n">y_range</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointsToGrid._NormalizeLabels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointsToGrid._NormalizeLabels" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes the bboxes within a given range.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PointsToGrid.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointsToGrid.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointsToGrid.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PointsToGrid.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointsToGrid.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointsToGrid.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PointsToGrid.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointsToGrid.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointsToGrid.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">_PointPillarGridSettings</code><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_PointPillarGridSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Settings for PointPillars model defined in paper.</p>
<p><a class="reference external" href="https://arxiv.org/abs/1812.05784">https://arxiv.org/abs/1812.05784</a></p>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_X">
<code class="sig-name descname">GRID_X</code><em class="property"> = 432</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_X" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_Y">
<code class="sig-name descname">GRID_Y</code><em class="property"> = 496</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_Y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_Z">
<code class="sig-name descname">GRID_Z</code><em class="property"> = 1</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_Z" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_X_RANGE">
<code class="sig-name descname">GRID_X_RANGE</code><em class="property"> = None</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_X_RANGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_Y_RANGE">
<code class="sig-name descname">GRID_Y_RANGE</code><em class="property"> = None</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_Y_RANGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_Z_RANGE">
<code class="sig-name descname">GRID_Z_RANGE</code><em class="property"> = None</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.GRID_Z_RANGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.UpdateGridParams">
<em class="property">classmethod </em><code class="sig-name descname">UpdateGridParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid_params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_PointPillarGridSettings.UpdateGridParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.UpdateGridParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply PointPillars settings to grid_params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.UpdateAnchorGridParams">
<em class="property">classmethod </em><code class="sig-name descname">UpdateAnchorGridParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">anchor_params</span></em>, <em class="sig-param"><span class="n">output_stride</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_PointPillarGridSettings.UpdateAnchorGridParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._PointPillarGridSettings.UpdateAnchorGridParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply PointPillars settings to anchor_params.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="lingvo.tasks.car.input_preprocessors.MakeGridSettings">
<code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">MakeGridSettings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid_x_range</span></em>, <em class="sig-param"><span class="n">grid_y_range</span></em>, <em class="sig-param"><span class="n">grid_z_range</span></em>, <em class="sig-param"><span class="n">grid_x</span></em>, <em class="sig-param"><span class="n">grid_y</span></em>, <em class="sig-param"><span class="n">grid_z</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#MakeGridSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.MakeGridSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns configured class for PointPillar grid settings.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarGridCarSettings">
<code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">PointPillarGridCarSettings</code><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarGridCarSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.MakeGridSettings.&lt;locals&gt;.GridSettings</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarGridPedCycSettings">
<code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">PointPillarGridPedCycSettings</code><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarGridPedCycSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.MakeGridSettings.&lt;locals&gt;.GridSettings</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.GridToPillars">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">GridToPillars</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridToPillars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridToPillars" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Create pillars from a grid of points.</p>
<dl>
<dt>Expects features to have keys:</dt><dd><p>grid_centers: [gx, gy, gz, 3]</p>
<p>grid_num_points: [gx, gy, gz]</p>
<p>laser_grid: [gx, gy, gz, num_points_per_cell, F]</p>
</dd>
<dt>Adds the following features:</dt><dd><p>point_count: [num_pillars]. The number of points in the pillar.</p>
<p>point_locations: [num_pillars, 3]. The grid location of each pillar.</p>
<p>pillar_points: [num_pillars, num_points_per_cell, F]. Points of each
pillar.</p>
</dd>
<dt>Drops the following features by default:</dt><dd><p>laser_grid</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridToPillars.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridToPillars.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridToPillars.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridToPillars._GumbelTransform">
<code class="sig-name descname">_GumbelTransform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridToPillars._GumbelTransform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridToPillars._GumbelTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds gumbel noise to log probabilities for multinomial sampling.</p>
<p>This enables fast sampling from a multinomial distribution without
replacement. See <a class="reference external" href="https://arxiv.org/abs/1611.01144">https://arxiv.org/abs/1611.01144</a> for details.
A colab that demonstrates this in practice is here:
<a class="reference external" href="http://colab/drive/1iuMt2n_r7dKPQG9T0UVMuK3fkbBayKjd">http://colab/drive/1iuMt2n_r7dKPQG9T0UVMuK3fkbBayKjd</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>probs</strong> – A 1-D float tensor containing probabilities, summing to 1.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A 1-D float tensor of the same size of probs, with gumbel noise added to
log probabilities. Taking the top k elements from this provides a
multinomial sample without replacement.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridToPillars._DensitySample">
<code class="sig-name descname">_DensitySample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_points</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridToPillars._DensitySample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridToPillars._DensitySample" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridToPillars.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridToPillars.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridToPillars.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridToPillars.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridToPillars.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridToPillars.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridToPillars.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridToPillars.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridToPillars.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.GridAnchorCenters">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">GridAnchorCenters</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridAnchorCenters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridAnchorCenters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Create anchor centers on a grid.</p>
<p>Anchors are placed in the middle of each grid cell. For example, on a 2D grid
range (0 -&gt; 10, 0 -&gt; 10) with a 10 x 5 grid size, the anchors will be placed
at [(0.5, 1), (0.5, 3), … , (9.5, 7), (9.5, 9)].</p>
<dl class="simple">
<dt>Adds the following features:</dt><dd><dl class="simple">
<dt>anchor_centers: [num_locations, 3] - Floating point output containing the</dt><dd><p>center (x, y, z) locations for tiling anchor boxes.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridAnchorCenters.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridAnchorCenters.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridAnchorCenters.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridAnchorCenters.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridAnchorCenters.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridAnchorCenters.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridAnchorCenters.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridAnchorCenters.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridAnchorCenters.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GridAnchorCenters.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GridAnchorCenters.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GridAnchorCenters.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">SparseCenterSelector</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCenterSelector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Select centers for anchors and cells.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]</p>
<p>and optionally points_padding of shape [P] corresponding to the padding.
if points_padding is None, then all points are considered valid.</p>
<p>If lasers.num_seeded_points of shape [] is provided, it indicates that the
first num_seeded_points of lasers.points_xyz should be used as seeds for
farthest point sampling (e.g., always chosen).  Currently the concept
of seeding is not implemented for anything but farthest point sampling.</p>
<dl class="simple">
<dt>Adds the following features:</dt><dd><dl class="simple">
<dt>anchor_centers: [num_cell_centers, 3] - Floating point output containing the</dt><dd><p>center (x, y, z) locations for tiling anchor boxes.</p>
</dd>
<dt>cell_center_xyz: [num_cell_centers, 3] - Floating point output containing</dt><dd><p>the center (x, y, z) locations for each cell to featurize.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector._SAMPLING_METHODS">
<code class="sig-name descname">_SAMPLING_METHODS</code><em class="property"> = ['farthest_point', 'random_uniform']</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector._SAMPLING_METHODS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCenterSelector.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector._FarthestPointSampleCenters">
<code class="sig-name descname">_FarthestPointSampleCenters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points_xyz</span></em>, <em class="sig-param"><span class="n">num_seeded_points</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCenterSelector._FarthestPointSampleCenters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector._FarthestPointSampleCenters" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples centers with Farthest Point Sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points_xyz</strong> – An unpadded tf.float32 Tensor of shape [P, 3] with per point
(x, y, z) locations. We expect any padded points to be removed before
this function is called.</p></li>
<li><p><strong>num_seeded_points</strong> – integer indicating how many of the first
num_seeded_points points in points_xyz should be considered
as seeds for FPS (always chosen).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tf.float32 Tensor of shape [p.num_cell_centers, 3] with selected centers
to use as anchors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector._RandomUniformSampleCenters">
<code class="sig-name descname">_RandomUniformSampleCenters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points_xyz</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCenterSelector._RandomUniformSampleCenters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector._RandomUniformSampleCenters" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples centers with Random Uniform Sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points_xyz</strong> – An unpadded tf.float32 Tensor of shape [P, 3] with per point
(x, y, z) locations. We expect any padded points to be removed before
this function is called.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tf.float32 Tensor of shape [p.num_cell_centers, 3] with selected centers
to use as anchors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector._SampleCenters">
<code class="sig-name descname">_SampleCenters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points_xyz</span></em>, <em class="sig-param"><span class="n">num_seeded_points</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCenterSelector._SampleCenters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector._SampleCenters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCenterSelector.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCenterSelector.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCenterSelector.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCenterSelector.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCenterSelector.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">SparseCellGatherFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellGatherFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Select local features for each cell.</p>
<p>This preprocessor expects features to contain:
- lasers.points_xyz of shape [P, 3]
- lasers.points_feature of shape [P, F]
- cell_center_xyz of shape [C, 3]</p>
<p>and optionally points_padding of shape [P] corresponding to the padding.
if points_padding is None, then all points are considered valid.</p>
<dl class="simple">
<dt>Adds the following features:</dt><dd><dl class="simple">
<dt>cell_points_xyz: [num_centers, num_points_per_cell, 3] - Floating point</dt><dd><p>output containing the (x, y, z) locations for each point for a given
center.</p>
</dd>
<dt>cell_feature: [num_centers, num_points_per_cell, F] - Floating point output</dt><dd><p>containing the features for each point for a given center.</p>
</dd>
<dt>cell_points_padding: [num_centers, num_points_per_cell] - 0/1 padding</dt><dd><p>for the points in each cell.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellGatherFeatures.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellGatherFeatures.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellGatherFeatures.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellGatherFeatures.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellGatherFeatures.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">SparseCellCentersTopK</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellCentersTopK"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Given selected centers and gathered points/features, apply a filter.</p>
<p>This preprocessor expects features to contain <code class="xref py py-obj docutils literal notranslate"><span class="pre">cell_center_xyz</span></code> and all
entries in params.features_to_modify, and that the leading dimension should
all be the same (num_cell_centers from SparseCenterSelector).</p>
<p>We then modify all values in features that are specified in
params.features_to_modify by sorting them with the specified sort function
(specified by params.sort_by) operating on features.cell_center_xyz, and then
taking the top K (specified by params.num_cell_centers) along the first
dimension.</p>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK._REGISTERED_SORT_FUNCTIONS">
<code class="sig-name descname">_REGISTERED_SORT_FUNCTIONS</code><em class="property"> = ['distance']</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK._REGISTERED_SORT_FUNCTIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellCentersTopK.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK._SortByDistance">
<code class="sig-name descname">_SortByDistance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellCentersTopK._SortByDistance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK._SortByDistance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK._Sort">
<code class="sig-name descname">_Sort</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellCentersTopK._Sort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK._Sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellCentersTopK.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellCentersTopK.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCellCentersTopK.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCellCentersTopK.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">TileAnchorBBoxes</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#TileAnchorBBoxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Creates anchor_bboxes given anchor_centers.</p>
<p>This preprocessor expects features to contain the following keys:
- anchor_centers of shape […base shape…, 3]</p>
<dl class="simple">
<dt>Adds the following features:</dt><dd><dl class="simple">
<dt>anchor_bboxes: base_shape + [7] - Floating point anchor box</dt><dd><p>output containing the anchor boxes and the 7 floating point
values for each box that define the box (x, y, z, dx, dy, dz, phi).</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#TileAnchorBBoxes.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#TileAnchorBBoxes.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#TileAnchorBBoxes.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#TileAnchorBBoxes.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.TileAnchorBBoxes.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">_AnchorBoxSettings</code><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_AnchorBoxSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class to parameterize and update anchor box settings.</p>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.DIMENSION_PRIORS">
<code class="sig-name descname">DIMENSION_PRIORS</code><em class="property"> = []</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.DIMENSION_PRIORS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.ROTATIONS">
<code class="sig-name descname">ROTATIONS</code><em class="property"> = []</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.ROTATIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.CENTER_X_OFFSETS">
<code class="sig-name descname">CENTER_X_OFFSETS</code><em class="property"> = []</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.CENTER_X_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.CENTER_Y_OFFSETS">
<code class="sig-name descname">CENTER_Y_OFFSETS</code><em class="property"> = []</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.CENTER_Y_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.CENTER_Z_OFFSETS">
<code class="sig-name descname">CENTER_Z_OFFSETS</code><em class="property"> = []</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.CENTER_Z_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.NumAnchors">
<em class="property">classmethod </em><code class="sig-name descname">NumAnchors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_AnchorBoxSettings.NumAnchors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.NumAnchors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.GenerateAnchorSettings">
<em class="property">classmethod </em><code class="sig-name descname">GenerateAnchorSettings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_AnchorBoxSettings.GenerateAnchorSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.GenerateAnchorSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate anchor settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>anchor_box_dimensions
- anchor_box_rotations
- anchor_box_offsets</p></li>
</ul>
<p>These can be used with the TileAnchorBBoxes preprocessor.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> containing three lists of the same length</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.Update">
<em class="property">classmethod </em><code class="sig-name descname">Update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#_AnchorBoxSettings.Update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings.Update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates anchor box settings from input configuration lists.</p>
<p>Given dimensions priors, rotations, and offsets, computes the cartesian
product of the settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> – The KITTIAnchorExtractorBase.Params() object to update.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Params updated with the anchor settings.</p>
<dl class="simple">
<dt>In total there are N combinations, where each (anchor_box_dimensions[i],</dt><dd><p>anchor_box_rotations[i], anchor_box_offsets[i]) for i in range(N) is an
option.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="lingvo.tasks.car.input_preprocessors.MakeAnchorBoxSettings">
<code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">MakeAnchorBoxSettings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dimension_priors</span></em>, <em class="sig-param"><span class="n">rotations</span></em>, <em class="sig-param"><span class="n">center_x_offsets</span></em>, <em class="sig-param"><span class="n">center_y_offsets</span></em>, <em class="sig-param"><span class="n">center_z_offsets</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#MakeAnchorBoxSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.MakeAnchorBoxSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a configured class for setting anchor box settings.</p>
</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">SparseCarV1AnchorBoxSettings</code><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseCarV1AnchorBoxSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings" title="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors._AnchorBoxSettings</span></code></a></p>
<p>Anchor box settings for training on Cars for Sparse models.</p>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.DIMENSION_PRIORS">
<code class="sig-name descname">DIMENSION_PRIORS</code><em class="property"> = [(1.6, 3.9, 1.56)]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.DIMENSION_PRIORS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.ROTATIONS">
<code class="sig-name descname">ROTATIONS</code><em class="property"> = [0, 1.5707963267948966, 0.7853981633974483, 2.356194490192345]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.ROTATIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.CENTER_X_OFFSETS">
<code class="sig-name descname">CENTER_X_OFFSETS</code><em class="property"> = array([-1.5 , -0.75,  0.  ,  0.75,  1.5 ])</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.CENTER_X_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.CENTER_Y_OFFSETS">
<code class="sig-name descname">CENTER_Y_OFFSETS</code><em class="property"> = array([-1.5 , -0.75,  0.  ,  0.75,  1.5 ])</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.CENTER_Y_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.CENTER_Z_OFFSETS">
<code class="sig-name descname">CENTER_Z_OFFSETS</code><em class="property"> = [-1.0]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseCarV1AnchorBoxSettings.CENTER_Z_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">PointPillarAnchorBoxSettingsCar</code><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointPillarAnchorBoxSettingsCar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors._AnchorBoxSettings" title="lingvo.tasks.car.input_preprocessors._AnchorBoxSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors._AnchorBoxSettings</span></code></a></p>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.DIMENSION_PRIORS">
<code class="sig-name descname">DIMENSION_PRIORS</code><em class="property"> = [(1.6, 3.9, 1.56)]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.DIMENSION_PRIORS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.ROTATIONS">
<code class="sig-name descname">ROTATIONS</code><em class="property"> = [0, 1.5707963267948966]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.ROTATIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.CENTER_X_OFFSETS">
<code class="sig-name descname">CENTER_X_OFFSETS</code><em class="property"> = [0.0]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.CENTER_X_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.CENTER_Y_OFFSETS">
<code class="sig-name descname">CENTER_Y_OFFSETS</code><em class="property"> = [0.0]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.CENTER_Y_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.CENTER_Z_OFFSETS">
<code class="sig-name descname">CENTER_Z_OFFSETS</code><em class="property"> = [-1.0]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar.CENTER_Z_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPed">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">PointPillarAnchorBoxSettingsPed</code><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointPillarAnchorBoxSettingsPed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar" title="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar</span></code></a></p>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPed.DIMENSION_PRIORS">
<code class="sig-name descname">DIMENSION_PRIORS</code><em class="property"> = [(0.6, 0.8, 1.73)]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPed.DIMENSION_PRIORS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPed.CENTER_Z_OFFSETS">
<code class="sig-name descname">CENTER_Z_OFFSETS</code><em class="property"> = [-0.6]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPed.CENTER_Z_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCyc">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">PointPillarAnchorBoxSettingsCyc</code><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointPillarAnchorBoxSettingsCyc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCyc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar" title="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar</span></code></a></p>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCyc.DIMENSION_PRIORS">
<code class="sig-name descname">DIMENSION_PRIORS</code><em class="property"> = [(0.6, 1.76, 1.73)]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCyc.DIMENSION_PRIORS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCyc.CENTER_Z_OFFSETS">
<code class="sig-name descname">CENTER_Z_OFFSETS</code><em class="property"> = [-0.6]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCyc.CENTER_Z_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPedCyc">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">PointPillarAnchorBoxSettingsPedCyc</code><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PointPillarAnchorBoxSettingsPedCyc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPedCyc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar" title="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsCar</span></code></a></p>
<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPedCyc.DIMENSION_PRIORS">
<code class="sig-name descname">DIMENSION_PRIORS</code><em class="property"> = [(0.6, 0.8, 1.7), (0.6, 1.76, 1.73)]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPedCyc.DIMENSION_PRIORS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPedCyc.CENTER_Z_OFFSETS">
<code class="sig-name descname">CENTER_Z_OFFSETS</code><em class="property"> = [-0.6]</em><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PointPillarAnchorBoxSettingsPedCyc.CENTER_Z_OFFSETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.AnchorAssignment">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">AnchorAssignment</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AnchorAssignment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AnchorAssignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Perform anchor assignment on the features.</p>
<p>This preprocessor expects features to contain the following keys:
- anchor_bboxes of shape […base shape…, 7]
- labels.bboxes_3d
- labels.labels
- labels.bboxes_3d_mask</p>
<p>Adds the following features:</p>
<blockquote>
<div><dl class="simple">
<dt>anchor_localization_residuals: base_shape + [7] floating point tensor of</dt><dd><p>residuals. The model is expected to regress against these residuals as
targets. The residuals can be converted back into bboxes using
detection_3d_lib.Utils3D.ResidualsToBBoxes.</p>
</dd>
<dt>assigned_gt_idx: base_shape - The corresponding index of the ground</dt><dd><p>truth bounding box for each anchor box in anchor_bboxes, anchors not
assigned will have idx be set to -1.</p>
</dd>
<dt>assigned_gt_bbox: base_shape + [7] - The corresponding ground</dt><dd><p>truth bounding box for each anchor box in anchor_bboxes.</p>
</dd>
<dt>assigned_gt_labels: base_shape - The assigned groundtruth label</dt><dd><p>for each anchor box.</p>
</dd>
<dt>assigned_gt_similarity_score: base_shape - The similarity score</dt><dd><p>for each assigned anchor box.</p>
</dd>
<dt>assigned_cls_mask: base_shape mask for classification loss per anchor.</dt><dd><p>This should be 1.0 if the anchor has a foreground or background
assignment; otherwise, it will be assigned to 0.0.</p>
</dd>
<dt>assigned_reg_mask: base_shape mask for regression loss per anchor.</dt><dd><p>This should be 1.0 if the anchor has a foreground assignment;
otherwise, it will be assigned to 0.0.
Note: background anchors do not have regression targets.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.AnchorAssignment.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AnchorAssignment.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AnchorAssignment.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.AnchorAssignment.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AnchorAssignment.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AnchorAssignment.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.AnchorAssignment.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AnchorAssignment.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AnchorAssignment.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.AnchorAssignment.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#AnchorAssignment.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.AnchorAssignment.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">DropLaserPointsOutOfRange</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropLaserPointsOutOfRange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Drops laser points that are out of pre-defined x/y/z ranges.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- lasers.points_feature of shape [P, F]</p>
<p>and optionally points_padding of shape [P] corresponding to the padding.
if points_padding is None, then all points are considered valid.</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><p>Removes or sets padding to 1 for all points outside a given range. Modifies
all items in the lasers subdictionary like lasers.points_xyz,
lasers.points_feature, lasers.points_padding, and optionally
lasers.points_label, lasers.points_bbox_id.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropLaserPointsOutOfRange.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropLaserPointsOutOfRange.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropLaserPointsOutOfRange.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropLaserPointsOutOfRange.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropLaserPointsOutOfRange.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.KITTIDropPointsOutOfFrustum">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">KITTIDropPointsOutOfFrustum</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#KITTIDropPointsOutOfFrustum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.KITTIDropPointsOutOfFrustum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Drops laser points that are outside of the camera frustum.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- lasers.points_feature of shape [P, F]
- images.velo_to_image_plane of shape [3, 4]
- images.width of shape [1]
- images.height of shape [1]</p>
<p>and optionally points_padding of shape [P] corresponding to the padding.
if points_padding is None, then all points are considered valid.</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><p>lasers.points_xyz, lasers.points_feature, lasers.points_padding, and
optionally lasers.points_label, lasers.points_bbox_id so that
points outside the frustum have padding set to 1 or are removed.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.KITTIDropPointsOutOfFrustum.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#KITTIDropPointsOutOfFrustum.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.KITTIDropPointsOutOfFrustum.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.KITTIDropPointsOutOfFrustum.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#KITTIDropPointsOutOfFrustum.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.KITTIDropPointsOutOfFrustum.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.KITTIDropPointsOutOfFrustum.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#KITTIDropPointsOutOfFrustum.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.KITTIDropPointsOutOfFrustum.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">RandomWorldRotationAboutZAxis</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomWorldRotationAboutZAxis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Rotates the world randomly as a form of data augmentation.</p>
<p>Rotations are performed around the <em>z-axis</em>. This assumes that the car is
always level. In general, we’d like to instead rotate the car on the spot,
this would then make sense for cases where the car is on a slope.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- labels.bboxes_3d of shape [L, 7]</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><p>lasers.points_xyz, labels.bboxes_3d with the same rotation applied to both.</p>
</dd>
<dt>Adds the following features:</dt><dd><p>world_rot_z which contains the rotation applied to the example.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomWorldRotationAboutZAxis.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomWorldRotationAboutZAxis.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomWorldRotationAboutZAxis.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomWorldRotationAboutZAxis.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomWorldRotationAboutZAxis.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">DropPointsOutOfFrustum</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropPointsOutOfFrustum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Drops points outside of pre-defined theta / phi ranges.</p>
<p>Note that the ranges for keep_phi_range can be negative, this is because the
phi values wrap around 2*pi. Thus, a valid range that filters the 90 deg
frontal field of view of the car can be specified as [-pi/4, pi/4].</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 7]
- lasers.points_feature of shape [P]</p>
<p>Modifies the following features:
- lasers.points_xyz removing any points out of frustum.
- lasers.points_feature removing any points out of frustum.</p>
<p>Note: We expect a downstream processor that filters out boxes with few points
to drop the corresponding bboxes.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropPointsOutOfFrustum.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropPointsOutOfFrustum.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropPointsOutOfFrustum.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropPointsOutOfFrustum.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropPointsOutOfFrustum.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">DropBoxesOutOfRange</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropBoxesOutOfRange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Drops boxes outside of pre-defined x/y/z ranges (boundaries inclusive).</p>
<p>This preprocessor expects features to contain the following keys:
- labels.bboxes_3d of shape [N, 7]
- labels.bboxes_3d_mask of shape [N]</p>
<p>Modifies the following features:
- labels.bboxes_3d_mask to mask out any additional boxes.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropBoxesOutOfRange.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropBoxesOutOfRange.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropBoxesOutOfRange.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#DropBoxesOutOfRange.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.DropBoxesOutOfRange.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.PadLaserFeatures">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">PadLaserFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PadLaserFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PadLaserFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Pads laser features so that the dimensions are fixed.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- lasers.points_feature of shape [P, F]</p>
<p>and optionally points_padding of shape [P] corresponding to the padding.
if points_padding is None, then all points are considered valid.</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><p>lasers.points_xyz and lasers.points_feature to add padding.
Optionally also modifies lasers.points_label and lasers.points_bbox_id
if they exist to add padding.</p>
</dd>
<dt>Modifies/adds the following features:</dt><dd><p>labels.points_padding of shape [P] representing the padding.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PadLaserFeatures.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PadLaserFeatures.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PadLaserFeatures.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PadLaserFeatures.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PadLaserFeatures.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PadLaserFeatures.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PadLaserFeatures.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PadLaserFeatures.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PadLaserFeatures.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.PadLaserFeatures.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#PadLaserFeatures.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.PadLaserFeatures.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.WorldScaling">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">WorldScaling</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#WorldScaling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.WorldScaling" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Scale the world randomly as a form of data augmentation.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- labels.bboxes_3d of shape [L, 7]</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><p>lasers.points_xyz, labels.bboxes_3d with the same scaling applied to both.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.WorldScaling.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#WorldScaling.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.WorldScaling.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.WorldScaling.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#WorldScaling.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.WorldScaling.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.WorldScaling.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#WorldScaling.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.WorldScaling.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.WorldScaling.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#WorldScaling.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.WorldScaling.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">RandomDropLaserPoints</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomDropLaserPoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Randomly dropout laser points and the corresponding features.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- lasers.points_feature of shape [P, K]</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><p>lasers.points_xyz, lasers.points_feature.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomDropLaserPoints.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomDropLaserPoints.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomDropLaserPoints.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomDropLaserPoints.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomDropLaserPoints.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.RandomFlipY">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">RandomFlipY</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomFlipY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomFlipY" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Flip the world along axis Y as a form of data augmentation.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- labels.bboxes_3d of shape [L, 7]</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><p>lasers.points_xyz, labels.bboxes_3d with the same flipping applied to both.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomFlipY.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomFlipY.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomFlipY.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomFlipY.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomFlipY.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomFlipY.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomFlipY.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomFlipY.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomFlipY.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomFlipY.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomFlipY.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomFlipY.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">GlobalTranslateNoise</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GlobalTranslateNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Add global translation noise of xyz coordinates to points and boxes.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- labels.bboxes_3d of shape [L, 7]</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><dl class="simple">
<dt>lasers.points_xyz, labels.bboxes_3d with the same</dt><dd><p>random translation noise applied to both.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GlobalTranslateNoise.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GlobalTranslateNoise.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GlobalTranslateNoise.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GlobalTranslateNoise.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GlobalTranslateNoise.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.RandomBBoxTransform">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">RandomBBoxTransform</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomBBoxTransform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomBBoxTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Randomly transform bounding boxes and the points inside them.</p>
<dl class="simple">
<dt>This preprocessor expects features to contain the following keys:</dt><dd><ul class="simple">
<li><p>lasers.points_xyz of shape [P, 3]</p></li>
<li><p>lasers.points_feature of shape [P, K]</p></li>
<li><p>lasers.points_padding of shape [P]</p></li>
<li><p>labels.bboxes_3d of shape [L, 7]</p></li>
<li><p>labels.bboxes_3d_mask of shape [L]</p></li>
</ul>
</dd>
<dt>Modifies the following features:</dt><dd><dl class="simple">
<dt>lasers.points_{xyz,feature,padding}, labels.bboxes_3d with the</dt><dd><p>transformed bounding boxes and points.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomBBoxTransform.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomBBoxTransform.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomBBoxTransform.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomBBoxTransform._Foreground">
<code class="sig-name descname">_Foreground</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em>, <em class="sig-param"><span class="n">points_xyz</span></em>, <em class="sig-param"><span class="n">points_feature</span></em>, <em class="sig-param"><span class="n">real_bboxes_3d</span></em>, <em class="sig-param"><span class="n">points_in_bbox_mask</span></em>, <em class="sig-param"><span class="n">rotation</span></em>, <em class="sig-param"><span class="n">translate_pose</span></em>, <em class="sig-param"><span class="n">transform_fn</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomBBoxTransform._Foreground"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomBBoxTransform._Foreground" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract and transform foreground points and features.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomBBoxTransform._Background">
<code class="sig-name descname">_Background</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points_xyz</span></em>, <em class="sig-param"><span class="n">points_feature</span></em>, <em class="sig-param"><span class="n">points_in_bbox_mask</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomBBoxTransform._Background"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomBBoxTransform._Background" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomBBoxTransform._ForLoopBuffers">
<code class="sig-name descname">_ForLoopBuffers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomBBoxTransform._ForLoopBuffers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomBBoxTransform._ForLoopBuffers" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return the buffers for the for loop.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomBBoxTransform.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomBBoxTransform.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomBBoxTransform.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomBBoxTransform.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomBBoxTransform.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomBBoxTransform.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomBBoxTransform.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomBBoxTransform.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomBBoxTransform.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">GroundTruthAugmentor</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GroundTruthAugmentor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Augment bounding box labels and points from a database.</p>
<dl>
<dt>This preprocessor expects features to contain the following keys:</dt><dd><p>lasers.points_xyz of shape [P, 3]</p>
<p>lasers.points_feature of shape [P, K]</p>
<p>lasers.points_padding of shape [P]</p>
<p>labels.bboxes_3d of shape [L, 7]</p>
<p>labels.bboxes_3d_mask of shape [L]</p>
<p>labels.labels of shape [L]</p>
</dd>
</dl>
<p>Modifies the above features so that additional objects from
a groundtruth database are added.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GroundTruthAugmentor.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor._ReadDB">
<code class="sig-name descname">_ReadDB</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_patterns</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GroundTruthAugmentor._ReadDB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor._ReadDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the groundtruth database and return as a NestedMap of Tensors.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor._CreateExampleFilter">
<code class="sig-name descname">_CreateExampleFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GroundTruthAugmentor._CreateExampleFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor._CreateExampleFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct db example filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db</strong> – NestedMap of the following Tensors: points_mask - [N, P] - The points
mask for every object in the database, where N is the number of objects
and P is the maximum number of points per object.  labels - [N] - int32
Label for each object in the database.  difficulties - [N] - int32
Difficulty for each label in the database.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A [N] boolean Tensor for each object in the database, True if
that corresponding object passes the filter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor._FilterIndices">
<code class="sig-name descname">_FilterIndices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gt_bboxes_3d</span></em>, <em class="sig-param"><span class="n">db_bboxes</span></em>, <em class="sig-param"><span class="n">db_idx</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GroundTruthAugmentor._FilterIndices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor._FilterIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify database boxes that don’t overlap with other boxes.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GroundTruthAugmentor.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GroundTruthAugmentor.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#GroundTruthAugmentor.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.GroundTruthAugmentor.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.FrustumDropout">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">FrustumDropout</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FrustumDropout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FrustumDropout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Randomly drops out points in a frustum.</p>
<p>All points are first converted to spherical coordinates, and then a point
is randomly selected. All points in the frustum around that point within
a given phi, theta angle width and distance to the original greater than
a given value are dropped with probability = 1 - keep_prob.</p>
<p>Here, we can specify whether the dropped frustum is the union or intersection
of the phi and theta angle filters.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- lasers.points_feature of shape [P, K]</p>
<p>Optionally points_padding of shape [P] corresponding to the padding.
if points_padding is None, then all points are considered valid.</p>
<dl class="simple">
<dt>Modifies the following features:</dt><dd><p>lasers.points_xyz, lasers.points_feature, lasers.points_padding with points
randomly dropped out.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FrustumDropout.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FrustumDropout.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FrustumDropout.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FrustumDropout.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FrustumDropout.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FrustumDropout.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FrustumDropout.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FrustumDropout.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FrustumDropout.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.FrustumDropout.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#FrustumDropout.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.FrustumDropout.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.RepeatPreprocessor">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">RepeatPreprocessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RepeatPreprocessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RepeatPreprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Repeat a preprocessor multiple times.</p>
<p>This preprocessor takes a preprocessor as a subprocessor and apply the
subprocessor to features multiple times (repeat_count).</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RepeatPreprocessor.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RepeatPreprocessor.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RepeatPreprocessor.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RepeatPreprocessor.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RepeatPreprocessor.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RepeatPreprocessor.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RepeatPreprocessor.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RepeatPreprocessor.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RepeatPreprocessor.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RepeatPreprocessor.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RepeatPreprocessor.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RepeatPreprocessor.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">RandomApplyPreprocessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomApplyPreprocessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Randomly apply a preprocessor with certain probability.</p>
<p>This preprocessor takes a preprocessor as a subprocessor and apply the
subprocessor to features with certain probability.</p>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomApplyPreprocessor.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomApplyPreprocessor.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomApplyPreprocessor.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#RandomApplyPreprocessor.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.RandomApplyPreprocessor.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.tasks.car.input_preprocessors.SparseSampler">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.tasks.car.input_preprocessors.</code><code class="sig-name descname">SparseSampler</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.tasks.car.input_preprocessors.Preprocessor" title="lingvo.tasks.car.input_preprocessors.Preprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.tasks.car.input_preprocessors.Preprocessor</span></code></a></p>
<p>Fused SparseCenterSelector and SparseCellGatherFeatures.</p>
<p>This preprocessor expects features to contain the following keys:
- lasers.points_xyz of shape [P, 3]
- lasers.points_feature of shape [P, F]</p>
<dl>
<dt>Adds the following features:</dt><dd><p>anchor_centers - [num_centers, 3] - Floating point output containing the
center (x, y, z) locations for tiling anchor boxes.</p>
<p>cell_center_xyz - [num_centers, 3] - Floating point output containing
the center (x, y, z) locations for each cell to featurize.</p>
<p>cell_center_padding - [num_centers] - 0/1 padding for each center.</p>
<p>cell_points_xyz - [num_centers, num_neighbors, 3] - Floating point
output containing the (x, y, z) locations for each point for a given
center.</p>
<p>cell_feature - [num_centers, num_neighbors, F] - Floating point output
containing the features for each point for a given center.</p>
<p>cell_points_padding - [num_centers, num_neighbors] - 0/1 padding
for the points in each cell.</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseSampler.Params">
<em class="property">classmethod </em><code class="sig-name descname">Params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseSampler.Params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseSampler.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Default params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseSampler.TransformFeatures">
<code class="sig-name descname">TransformFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseSampler.TransformFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseSampler.TransformFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the features for one example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>features</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of tensors corresponding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseSampler.TransformShapes">
<code class="sig-name descname">TransformShapes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseSampler.TransformShapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseSampler.TransformShapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct shapes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes, corresponding to the
pre-transformed features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of TensorShapes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lingvo.tasks.car.input_preprocessors.SparseSampler.TransformDTypes">
<code class="sig-name descname">TransformDTypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtypes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/tasks/car/input_preprocessors.html#SparseSampler.TransformDTypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.tasks.car.input_preprocessors.SparseSampler.TransformDTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets correct dtypes corresponding to TransformFeatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes, corresponding to the pre-transformed
features.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">NestedMap</span></code> of DTypes corresponding to the transformed features.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lingvo.tasks.car.kitti_ap_metric.html" class="btn btn-neutral float-right" title="lingvo.tasks.car.kitti_ap_metric module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lingvo.tasks.car.input_extractor.html" class="btn btn-neutral float-left" title="lingvo.tasks.car.input_extractor module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2018

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>