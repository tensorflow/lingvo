

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>lingvo.core.schedule module &mdash; Lingvo  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lingvo.core.scorers module" href="lingvo.core.scorers.html" />
    <link rel="prev" title="lingvo.core.scatter_update module" href="lingvo.core.scatter_update.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Lingvo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="lingvo.html">lingvo package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lingvo.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="lingvo.core.html">lingvo.core package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="lingvo.core.html#subpackages">Subpackages</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="lingvo.core.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lingvo.tasks.html">lingvo.tasks package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lingvo.tools.html">lingvo.tools package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lingvo.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Lingvo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="lingvo.html">lingvo package</a> &raquo;</li>
        
          <li><a href="lingvo.core.html">lingvo.core package</a> &raquo;</li>
        
      <li>lingvo.core.schedule module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/lingvo.core.schedule.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-lingvo.core.schedule">
<span id="lingvo-core-schedule-module"></span><h1>lingvo.core.schedule module<a class="headerlink" href="#module-lingvo.core.schedule" title="Permalink to this headline">¶</a></h1>
<p>Learning rate schedule.</p>
<dl class="py class">
<dt id="lingvo.core.schedule.BaseSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">BaseSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#BaseSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.BaseSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="lingvo.core.base_layer.html#lingvo.core.base_layer.BaseLayer" title="lingvo.core.base_layer.BaseLayer"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.base_layer.BaseLayer</span></code></a></p>
<p>Base class for learning rate decay algorithms.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.BaseSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#BaseSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.BaseSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.BaseSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#BaseSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.BaseSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.Constant">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">Constant</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#Constant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.Constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>A schedule that always returns a constant value.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.Constant.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#Constant.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.Constant.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.Constant.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#Constant.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.Constant.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.ConstantOne">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">ConstantOne</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#ConstantOne"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.ConstantOne" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.Constant" title="lingvo.core.schedule.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.Constant</span></code></a></p>
<p>A lr schedule remains constant 1.</p>
</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.PiecewiseConstantSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">PiecewiseConstantSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PiecewiseConstantSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PiecewiseConstantSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Piecewise constants rate decay.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.PiecewiseConstantSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PiecewiseConstantSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PiecewiseConstantSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.PiecewiseConstantSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PiecewiseConstantSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PiecewiseConstantSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.ContinuousSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">ContinuousSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#ContinuousSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.ContinuousSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Continuous learning rate decay.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.ContinuousSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#ContinuousSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.ContinuousSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.ContinuousSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#ContinuousSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.ContinuousSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate decay.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.PolynomialSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">PolynomialSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PolynomialSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PolynomialSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Polynomial learning rates.</p>
<p>If x &lt; x0, returns y0. If x &gt;= x1, returns y1. Otherwise,
interpolate with a polynomial between (x0, y0) and (x1, y1).</p>
<dl class="py method">
<dt id="lingvo.core.schedule.PolynomialSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PolynomialSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PolynomialSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.PolynomialSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PolynomialSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PolynomialSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.LinearSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">LinearSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.PolynomialSchedule" title="lingvo.core.schedule.PolynomialSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.PolynomialSchedule</span></code></a></p>
<p>Linear learning rate schedule.</p>
<p>If x &lt; x0, returns y0. If x &gt;= x1, returns y1. Otherwise,
interpolate linearly between (x0, y0) and (x1, y1).</p>
<dl class="py method">
<dt id="lingvo.core.schedule.LinearSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.AnnealingSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">AnnealingSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#AnnealingSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.AnnealingSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Annealing schedule.</p>
<p>y = max(pow(factor, step), lower_bound)</p>
<dl class="py method">
<dt id="lingvo.core.schedule.AnnealingSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#AnnealingSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.AnnealingSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.AnnealingSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#AnnealingSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.AnnealingSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.ExponentialSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">ExponentialSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#ExponentialSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.ExponentialSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Linear learning rate schedule.</p>
<p>If x &lt; x0, returns y0. If x &gt;= x1, returns y1. Otherwise,
interpolate exponentially between (x0, y0) and (x1, y1).</p>
<dl class="py method">
<dt id="lingvo.core.schedule.ExponentialSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#ExponentialSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.ExponentialSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.ExponentialSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#ExponentialSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.ExponentialSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.StepwiseExponentialSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">StepwiseExponentialSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#StepwiseExponentialSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.StepwiseExponentialSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Exponential decay every N steps.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.StepwiseExponentialSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#StepwiseExponentialSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.StepwiseExponentialSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.StepwiseExponentialSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#StepwiseExponentialSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.StepwiseExponentialSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.CombinedMinimumSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">CombinedMinimumSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CombinedMinimumSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CombinedMinimumSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Combine a few learning rate decay schedules and takes the min.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.CombinedMinimumSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CombinedMinimumSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CombinedMinimumSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.CombinedMinimumSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CombinedMinimumSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CombinedMinimumSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.TransformerSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">TransformerSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Inverse-decay learning rate until warmup_steps, then decay.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.TransformerSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.TransformerSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate decay.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.TransformerMLPerfSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">TransformerMLPerfSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerMLPerfSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerMLPerfSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>learning rate with linear warmup, then rsqrt decay.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.TransformerMLPerfSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerMLPerfSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerMLPerfSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.TransformerMLPerfSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerMLPerfSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerMLPerfSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate decay.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.TransformerScheduleNoWarmUp">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">TransformerScheduleNoWarmUp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerScheduleNoWarmUp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerScheduleNoWarmUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Fixed learning rate until decay_start, then decay.</p>
<p>This learning rate schedule is identical to TransformerSchedule
except in the warm-up phase, where this learning rate schedule uses a fixed
learning rate (peak-learning rate of TransformerSchedule) for the
original warm-up phase.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.TransformerScheduleNoWarmUp.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerScheduleNoWarmUp.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerScheduleNoWarmUp.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.TransformerScheduleNoWarmUp.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#TransformerScheduleNoWarmUp.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.TransformerScheduleNoWarmUp.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate decay.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">LinearRampupExponentialDecayScaledByNumSplitSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupExponentialDecayScaledByNumSplitSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>A learning rate schedule that does the following.</p>
<ol class="arabic simple">
<li><p>The peak learning rate multiplier is scaled by num splits,
(often the same as #replicas during batch splitting synchronous
training).</p></li>
<li><p>The multiplier ramps up linearly from 1 to the peak initially.</p></li>
<li><p>The multiplier stays constant until the exponential decay starts.</p></li>
<li><p>The multiplier is capped at max.</p></li>
</ol>
<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupExponentialDecayScaledByNumSplitSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupExponentialDecayScaledByNumSplitSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.LinearRampupExponentialDecay">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">LinearRampupExponentialDecay</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupExponentialDecay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupExponentialDecay" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule" title="lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.LinearRampupExponentialDecayScaledByNumSplitSchedule</span></code></a></p>
<p>A schedule that does the following…</p>
<ol class="arabic simple">
<li><p>Linearly ramps up from <code class="xref py py-obj docutils literal notranslate"><span class="pre">p.warmup_init</span></code> to 1.0 initially;</p></li>
<li><p>Stays at constant 1.0 until the decay starts;</p></li>
<li><p>Exponential decays from 1.0 to <code class="xref py py-obj docutils literal notranslate"><span class="pre">p.min</span></code>.</p></li>
</ol>
<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupExponentialDecay.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupExponentialDecay.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupExponentialDecay.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.LinearRampupSqrtDecayByBatchSizeAndReplicas">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">LinearRampupSqrtDecayByBatchSizeAndReplicas</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupSqrtDecayByBatchSizeAndReplicas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupSqrtDecayByBatchSizeAndReplicas" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Linearly increase learning rate until warmup_examples, then sqrt decay.</p>
<p>Same as the Transformer learning schedule, except that learning rate
multiplier and time scales are adjusted according to the aggregate batch size
(batch_size * num_replicas).</p>
<dl class="simple">
<dt>The implied peak learning rate multiplier given by this schedule is:</dt><dd><p>sqrt(batch_size * num_replicas / warmup_examples).</p>
</dd>
</dl>
<p>Can only be used with synchronized trainers.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupSqrtDecayByBatchSizeAndReplicas.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupSqrtDecayByBatchSizeAndReplicas.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupSqrtDecayByBatchSizeAndReplicas.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupSqrtDecayByBatchSizeAndReplicas.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupSqrtDecayByBatchSizeAndReplicas.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupSqrtDecayByBatchSizeAndReplicas.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate decay.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.LinearRampupPiecewiseConstantSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">LinearRampupPiecewiseConstantSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupPiecewiseConstantSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupPiecewiseConstantSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>A learning rate schedule that does the following.</p>
<ol class="arabic simple">
<li><p>The learning rate is scaled by #split * lrs[i]
(often #split is the same as #replicas during batch splitting synchronous
training).</p></li>
<li><p>The multiplier ramps up linearly from 0 to the peak(lrs[0]) at
boundaries[0].</p></li>
<li><p>After peak, the multiplier stays lrs[i] when step falls into
[boundaries[i], boundaries[i+1])</p></li>
</ol>
<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupPiecewiseConstantSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupPiecewiseConstantSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupPiecewiseConstantSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupPiecewiseConstantSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupPiecewiseConstantSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupPiecewiseConstantSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.LinearRampupCosineSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">LinearRampupCosineSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupCosineSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupCosineSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>A cosine decaying learning rate schedule with a linear rampup phase.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupCosineSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupCosineSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupCosineSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.LinearRampupCosineSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#LinearRampupCosineSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.LinearRampupCosineSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.DevBasedSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">DevBasedSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#DevBasedSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.DevBasedSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Decay triggered by lack of improvement on the dev set.</p>
<p>This reads a file containing a history of values of a selected metric versus
global step (file is recorded by the evaler loop in the trainer). Decay
depends on these variables:</p>
<blockquote>
<div><ul class="simple">
<li><p>best_step - step at which optimum metric value occurred in history file</p></li>
<li><p>last_step - last step recorded in history file</p></li>
<li><p>ref_step - most recent decay step or best_step</p></li>
<li><p>cur_factor - current multiplier on initial learning rate</p></li>
</ul>
</div></blockquote>
<p>The decay algorithm is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ref_step</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ref_step</span><span class="p">,</span> <span class="n">best_step</span><span class="p">)</span>
<span class="k">if</span> <span class="n">last_step</span> <span class="o">-</span> <span class="n">ref_step</span> <span class="o">&gt;</span> <span class="n">window</span><span class="p">:</span>
  <span class="n">cur_factor</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">cur_factor</span> <span class="o">*</span> <span class="n">decay</span><span class="p">,</span> <span class="n">min_factor</span><span class="p">)</span>
  <span class="n">ref_step</span> <span class="o">=</span> <span class="n">last_step</span>
</pre></div>
</div>
<dl class="py method">
<dt id="lingvo.core.schedule.DevBasedSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#DevBasedSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.DevBasedSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.DevBasedSchedule._CreateLayerVariables">
<code class="sig-name descname"><span class="pre">_CreateLayerVariables</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#DevBasedSchedule._CreateLayerVariables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.DevBasedSchedule._CreateLayerVariables" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually create variables for this layer.</p>
<p>Subclasses should override this function.</p>
<p>Variables are created inside of tf.variable_scope(self.params.name).</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.DevBasedSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#DevBasedSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.DevBasedSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.CosineSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">CosineSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CosineSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CosineSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Cosine learning rate decay.</p>
<p>First proposed in <a class="reference external" href="https://arxiv.org/pdf/1608.03983.pdf">https://arxiv.org/pdf/1608.03983.pdf</a>, which only uses
multiple cycles with angle from 0 to pi/2. Later people use only one cycle
with angle from 0 to pi (e.g., <a class="reference external" href="https://arxiv.org/pdf/1711.09224.pdf">https://arxiv.org/pdf/1711.09224.pdf</a>), which
is implemented here.</p>
<dl class="simple">
<dt>where:</dt><dd><p>angle = pi * min(1, current_step / total_steps)
decay_gap = initial_value - final_value
value = final_value + decay_gap * (1 + cosine(angle)) / 2</p>
</dd>
</dl>
<dl class="py method">
<dt id="lingvo.core.schedule.CosineSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CosineSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CosineSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.CosineSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CosineSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CosineSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.PiecewiseSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">PiecewiseSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PiecewiseSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PiecewiseSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Piecewise schedule composed of sub-schedules.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.PiecewiseSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PiecewiseSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PiecewiseSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.PiecewiseSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#PiecewiseSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.PiecewiseSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.SqrtDecay">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">SqrtDecay</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#SqrtDecay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.SqrtDecay" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Sqrt decay schedule.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.SqrtDecay.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#SqrtDecay.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.SqrtDecay.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.SqrtDecay.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#SqrtDecay.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.SqrtDecay.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lingvo.core.schedule.CycleSchedule">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">lingvo.core.schedule.</span></code><code class="sig-name descname"><span class="pre">CycleSchedule</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CycleSchedule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CycleSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lingvo.core.schedule.BaseSchedule" title="lingvo.core.schedule.BaseSchedule"><code class="xref py py-class docutils literal notranslate"><span class="pre">lingvo.core.schedule.BaseSchedule</span></code></a></p>
<p>Piecewise schedule composed of sub-schedules in a cycle.</p>
<dl class="py method">
<dt id="lingvo.core.schedule.CycleSchedule.Params">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">Params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CycleSchedule.Params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CycleSchedule.Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the layer params.</p>
</dd></dl>

<dl class="py method">
<dt id="lingvo.core.schedule.CycleSchedule.Value">
<code class="sig-name descname"><span class="pre">Value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/schedule.html#CycleSchedule.Value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lingvo.core.schedule.CycleSchedule.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current learning rate schedule value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the current learning rate schedule value given the
current training global step. Typically, the base learning rate
multiplied by the returned schedule value is used as the
effective learning rate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="lingvo.core.scorers.html" class="btn btn-neutral float-right" title="lingvo.core.scorers module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="lingvo.core.scatter_update.html" class="btn btn-neutral float-left" title="lingvo.core.scatter_update module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>